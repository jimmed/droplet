<head>
  <title>Droplet</title>
</head>

<body>
  {{> toolbar}}
  {{#isolate}}
    {{renderPage}}
  {{/isolate}}
</body>

<template name="toolbar">
  <nav class="navbar navbar-default" role="navigation">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">{{ title }}</a>
    </div>

    <div class="collapse navbar-collapse navbar-main-collapse">
      <ul class="nav navbar-nav">
        {{#each menuItem}}
          <li class="{{#if active}}active{{/if}}">
            <a href="{{url}}">
              {{text}} 
              {{#if count}}
                <span class="badge">{{count}}</span>
              {{/if}}
            </a>
          </li>
        {{/each}}
      </ul>
    </div>
  </nav>
</template>

<template name="downloads">
  <div class="container">
    <h2>Downloads</h2>
    <div class="download-list row">
      {{#each download}}
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
          <div class="panel panel-{{class}} download">
            {{#if panelImage}}
              <div class="panel-image well" style="background-image: url({{panelImage}});">
              </div>
            {{/if}}
            <div class="panel-heading">
              <h3 class="panel-title">{{title}}</h3>
              {{#if subtitle}}
                {{subtitle}}
              {{/if}}
            </div>
            {{#if displayProgressBar}}
              <div class="panel-progress">
                {{> download-progress-bar}}
              </div>
            {{/if}}
          </div>
        </div>
      {{/each}}
    </div>
  </div>
</template>

<template name="download-progress-bar">
  <div class="progress">
    <div class="progress-bar progress-bar-{{class}}" style="width: {{download.progress}}%;">
      <span class="sr-only">{{download.progress}}% complete</span>
    </div>
  </div>
</template>